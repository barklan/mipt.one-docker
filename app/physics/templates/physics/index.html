<!DOCTYPE html>
<html>
    <!-- HEAD -->
	<head>
		<title>MIPT.one - Банк задач по физике</title>
		<meta name="yandex-verification" content="353180fadd8a37ac" />
		<link rel="icon" type="image/png" href="/staticfiles/images/mipt_logo192_2.png" sizes="192x192" />
		<meta charset="utf-8"/>
		
		<meta name="description" content="MIPT One. Ссылки и ресурсы для студентов МФТИ. Главная страница сайта Московского физико-технического института. MIPT.one. Скат учебных материалов мфти (физтех)">
		<meta name="keywords" content="MIPT, links, resourses, физтех, мфти, mipt, МФТИ, ссылки, ресурсы, one, One, МФТИ, Физтех, Главная, Московский, физико, технический, университет, институт, студенты, физтех, скат, скатат, учебные, ресурсы">

		<meta name="referrer" content="none">
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<!-- <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script> -->
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.9.0/css/all.css">

        <!-- Bootstrap 5! -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>

        <script src="https://www.google.com/recaptcha/api.js?render=6LddowgaAAAAACLT_o3UJEZZZvhVldoc3URO6Jdk"></script>


		<!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script> -->

		<link rel="stylesheet" href="/staticfiles/assets/css/onemipt.css">
        <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"> -->

 
        <!-- Yandex.Metrika counter -->
        <script type="text/javascript" >
            (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
            m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
            (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
        
            ym(65876926, "init", {
                clickmap:true,
                trackLinks:true,
                accurateTrackBounce:true,
                webvisor:true
            });
        </script>
        <noscript><div><img src="https://mc.yandex.ru/watch/65876926" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
        <!-- /Yandex.Metrika counter -->
	</head>
	<body>
            <script type="text/javascript">
            function doSearch( f ) {
                var searchTerm = f.searchText.value;

                if( !searchTerm ) {
                    //tell user to enter a search string
                    // cancel the request by returning false
                    return false;
                }

                var engineUrl;
                engineUrl = 'https://yandex.ru/search/?text=';
                engineUrl += searchTerm;
                window.location.href = engineUrl;
                return false;
            }

            </script>


        <!-- NAVBAR -->
		<nav class="navbar navbar-expand-md bg-dark navbar-dark sticky-top">
        <div class="container-fluid">
			<a class="navbar-brand" href="https://mipt.one/">
				<img src="/staticfiles/images/mipt_logo.png" alt="Logo" style="width:50px; padding-left:10px; padding-right:10px">
				MIPT.one
			</a>
            <ul class="navbar-nav">

            </ul>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
           
			<div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                      <a class="nav-link active" href="/physics/">Банк задач по физике</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/antiplag/">АнтиПлагиат</a>
                    </li>
                </ul>
            </div>
        </div>
        </nav>
        <!-- COLLAPSIBLE SOMETHING -->
        <div class="collapse" id="navbarToggleExternalContent" autofocus=on>
            <div class="bg-dark p-4">
            <h4 class="text-white">MIPT.one - Ссылки и ресурсы для студентов МФТИ</h4>
            <span class="text-muted">Данный сайт (мфти физтех полезные ссылки скатать, физтех мфти полезные ресурсы) призван помочь студентам МФТИ (Московский Физико-Техинческий Институт) скатать (скат mipt one) зайти на нужные ресурсы и ссылки для ската или для того, чтобы заботать. MIPT one. Спасибо всем формам жизни, проиндексировавшим этот текст. MIPT one.</span>
            </div>
        </div>

        <!-- TOUCH DEVICE REFINEMENTS -->
		<script>
			function isTouchDevice(){
				return true == ("ontouchstart" in window || window.DocumentTouch && document instanceof DocumentTouch);
			}
			$(function () {
				if(isTouchDevice()==false) {
					$('[data-toggle="tooltip"]').tooltip({ boundary: 'window' })
				}
			})
		</script>

	<div class="container-fluid">
		
		<div class="row" id="mainrows"> <!-- 4 колонны-->
		
	
		<div class="col-sm-12 col-md-4 col-lg-3"> <!-- 1 colomn-->
            
            <div class="row-sm-3" style="background-color: #f2f2f2; position: sticky; top: 78px;">
            
                <ul>

                    <li style="margin-left:-32px; margin-right:0px;">
                        <form method="GET" id="physform" name="theForm">
                        <div class="input-group">
                            <select name='sem' class="form-select btn-secondary" id="inputGroupSelect04" aria-label="Example select with button addon">
                                <option name='sem' value=1 selected>Механика</option>
                                <option name='sem' value=2 >Термо</option>
                                <option name='sem' value=3 >Электро</option>
                                <option name='sem' value=4 >Оптика</option>
                                <option name='sem' value=5 >Атомная</option>
                                <option name='sem' value=6 >Лабы (пока не робит)</option>
                            </select>

                            <input id="physnumber" type="number" step="any" name="zad" value="" class="form-control" aria-label="Text input with 2 dropdown buttons" placeholder="номер">
                            <button type="submit" value="Искать" class="btn btn-outline-secondary"><i class="fa fa-search"></i></button>
                        </div>
                        </form>

                        <p style="padding:6px" id="physout">Поиcк по задачам</p>


                    <!-- <p style="padding:6px"> {{ search_output }} </p> -->
                    </li>

				</ul>

            </div>
            
            <div id="uploadformdiv" class="row-sm-3" style="background-color: #f2f2f2; display: none">
            <span class="boxtitle2">Выложи своё решение! (jpg 1MB max)</span>
			<ul>
				<li id='imageuploadid' style='margin-right:0px; margin-left:-32px'>

                    {% block content %}

                    <form id="fileuploadform" action="{% url 'uploadfuck' %}" method="post" enctype="multipart/form-data">
                        {% csrf_token %}
                        <input type="hidden" id="hiddensem" name="semup" value="1">
                        <input type="hidden" id="hiddenzad" name="zadup" value="1338">
                        <input type="hidden" name="recaptcha_response" id="recaptchaResponse">

                        <div class="input-group">
                            <input type="file" class="form-control" id="fileinput" aria-describedby="inputGroupFileAddon04" aria-label="Upload" name="image_file">
                            <button class="btn btn-outline-secondary" type="submit" value="submit" id="inputGroupFileAddon04">Залить</button>
                        </div>

                        <!-- <input type="submit" value="submit" /> -->
                    </form>

                    <!-- {% if image_url %}
                        <p>File uploaded at: <a href="{{ image_url }}">{{ image_url }}</a></p>
                    {% endif %} -->

                    {% endblock %}

                </li>

                <li>
                    <!-- <p style="padding:6px" id="uploadout" style="display: none;">Это не подходящее фото</p> -->
                </li>
                
			</ul>
            </div>
            

            <div class="row-sm-3" id="statsdiv" style="background-color: #f2f2f2;">
                <!-- <span class="boxtitle2">Решено задач:</span> -->
                <ul>
                    <li>
                        <table class="table table-hover table-borderless table-sm">
                            <caption>Cайт защищен reCAPTCHA и не только, попытки сломать приветствуются</caption>
                            <thead>
                              <tr>
                                <th scope="col"></th>
                                <th scope="col">Реш.</th>
                                <th scope="col">из</th>
                                <th scope="col"></th>
                              </tr>
                            </thead>
                            <tbody class="text-end">
                              <tr>
                                <th scope="row">Механика</th>
                                <td>{{ count1 }}</td>
                                <td>{{ total1 }}</td>
                                <td>{{ coverage1 }}%</td>
                              </tr>
                              <tr>
                                <th scope="row">Термо</th>
                                <td>{{ count2 }}</td>
                                <td>{{ total2 }}</td>
                                <td>{{ coverage2 }}%</td>
                              </tr>
                              <tr>
                                <th scope="row">Электро</th>
                                <td>{{ count3 }}</td>
                                <td>{{ total3 }}</td>
                                <td>{{ coverage3 }}%</td>
                              </tr>
                              <tr>
                                <th scope="row">Оптика</th>
                                <td>{{ count4 }}</td>
                                <td>{{ total4 }}</td>
                                <td>{{ coverage4 }}%</td>
                              </tr>
                              <tr>
                                <th scope="row">Атомная</th>
                                <td>{{ count5 }}</td>
                                <td>{{ total5 }}</td>
                                <td>{{ coverage5 }}%</td>
                              </tr>
                            </tbody>
                        </table>

                        <!-- <p id="recaptchawarning">
                            Cайт защищен reCAPTCHA и не только, попытки сломать приветствуются
                        </p> -->
                    </li>
                </ul>
            </div>


		</div> <!-- /1 colomn-->
		
		<div class="col-sm-12 col-md-8 col-lg-9"> <!-- 2 colomn-->

            <div id="solutiondiv" class="row-sm-3" style="background-color: #f2f2f2; display: none;"><span class="boxtitle3">Решение</span>
                <ul>
                    <li id="solutionimage">


                    </li>
                </ul>
            </div>
           
		</div> <!-- /2 colomn-->

	
		</div> <!-- /4 колонны-->
        
        
        {% block javascript %}
        <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> -->
        <!-- <script src="https://www.google.com/recaptcha/api.js?render=6LddowgaAAAAACLT_o3UJEZZZvhVldoc3URO6Jdk"></script> -->
    

        <!-- SEARCH FORM -->
        <script>
            function fuckingsearch() {
                $.ajax({
                        data: $('#physform').serialize(), // get the form data
                        url: "{% url 'phys' %}",
                        // on success
                        success: function(response) {
                            $("#physout").html(response.search_output);
                            $("#solutionimage").html('<img src="'+ response.image_url + '" class="img-fluid" alt="No image... for now">');

                            $("#hiddensem").attr("value", response.sem);
                            $("#hiddenzad").attr("value", response.zad);

                            div = document.getElementById("uploadformdiv");
                            soldiv = document.getElementById("solutiondiv");

                            if (response.code404 == '1') {
                                div.style["display"] = "block";
                                soldiv.style["display"] = "none";
                            }

                            if (response.code404 == '0') {
                                div.style["display"] = "none";
                                soldiv.style["display"] = "block";
                            }

                            if (response.wrong_input == '1') {
                                div.style["display"] = "none";
                                soldiv.style["display"] = "none";
                            }
                            // alert('it worked');
                            // alert(response.search_output);
                        },
                        // on error
                        error: function(response) {
                            alert('it didnt work');
                            // alert the error if any error occured
                            console.log(response.responseJSON.errors)
                        }
                    });
            }

            $(document).ready(function () {
                // catch the form's submit event
                $('#physform').submit(function() {
                    fuckingsearch()
    
                    return false;
                });
            })


        // FILE UPLOAD FORM
            $(document).ready(function () {
                // catch the form's submit event
                $('#fileuploadform').submit(function(event) {
                    event.preventDefault();
                    grecaptcha.ready(function() {
                        grecaptcha.execute('6LddowgaAAAAACLT_o3UJEZZZvhVldoc3URO6Jdk', {action: 'submit'}).then(function(token) {
                            $("#recaptchaResponse").attr("value", token);
                            var form = $('#fileuploadform')[0];
                            var data = new FormData(form);
                            // jQuery.each(jQuery('#fileinput')[0].files, function(i, file) {
                            //     data.append('file-'+i, file);
                            // });
                            // create an AJAX call
                            $.ajax({
                                url: "{% url 'uploadfuck' %}",
                                data: data, // get the form data
                                // contentType: "multipart/form-data",
                                cache: false,
                                contentType: false,
                                processData: false,
                                method: "POST",
                                enctype: 'multipart/form-data',
                                // on success
                                success: function(response) {
                                    // upout = document.getElementById("uploadout");
                                    // if (response.diditwork == 0) {
                                    //     upout.style["display"] = "block";
                                    // } else {
                                    // upout.style["display"] = "none";
                                    $("#inputGroupSelect04").attr("value", response.sem);
                                    $("#physnumber").attr("value", response.zad);
                                    fuckingsearch()
                                        // alert('it worked');
                                        // alert(response.search_output);
                                    // }
                                },
                                // on error
                                error: function(response) {
                                    alert('it didnt work');
                                    // alert the error if any error occured
                                    console.log(response.responseJSON.errors)
                                }
                            });
                        });
                    });


                    return false;
                });
            })
        </script>

        {% endblock javascript %}


	</div>
	</body>
</html>
